<% layout("main.l.html") %>

<w:head>
  <title>hi -ty</title>
</w:head>

<w:template>
  <main class="Page">
    <header class="Title">
      <h1 class="Title-text">hi</h1>
      <h2>welcome to my (ty's) personal website</h2>
    </header>

    <section class="Page-body">
      <p>
        it's pretty rough rn, because i made the (bad? good?) decision to try and
        build a <a href="https://github.com/tycobbb/www">static site generator</a>
        rather than a website.
      <p>

      <p>
        i like <a href="https://tycobbb.itch.io">making games</a>, the web, <a
        href="web0">web0</a>, co-ops, & i'm interested in writing
        <a href="process/on-agile">a book</a> on process & reclaiming the nice
        parts of "agile".
      </p>

      <p>
        the floating window, <code>&lt;a-dumpling&gt;</code>, i lifted and
        personalized from a game i worked
        <a href="a-dumpling">on</a>
        <a href="a-dumpling">with</a>
        <a href="a-dumpling">some</a>
        <a href="a-dumpling">cool</a>
        <a href="a-dumpling">people</a>
        called,
        <w:frag path="link" name="dmp">dumpling.love</w:frag>
        it's very good, it
        <w:frag path="link" name="dmp/igf">won igf</w:frag>.
        thanks to
        <w:frag path="link" name="dmp/twt">the parks staff</w:frag>
        for the opportunity.
      </p>
    </section>

    <w:frag path="footer" />
  </main>
</w:template>

<script id="friends" type="application/json">
  <%~ JSON.stringify(Object.values(data("friends.d.json")).map((f) => f.link)) %>
</script>

<script type="module">
  // -- data --
  const urls =
    JSON.parse(document.getElementById("friends").innerText)

  const links =
    Array.from(document.querySelectorAll("a[href=a-dumpling]"))

  // -- main --
  function Main() {
    // shuffle urls
    Shuffle(urls)

    // bind to the dumplings :)
    for (let i = 0; i < 5; i++) {
      links[i].href = urls[i]
    }
  }

  // -- helpers --
  function Shuffle(a,b,c,d) {
    c=a.length;while(c)b=Math.random()*(--c+1)|0,d=a[c],a[c]=a[b],a[b]=d
  }

  // -- start --
  Main()
</script>